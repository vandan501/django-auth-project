{% extends 'account/base.html' %}

{% block title %}Set New Password{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg">
  <h2 class="text-2xl font-semibold text-center text-gray-700 mb-6">
    Set a New Password
  </h2>
  <form method="POST" id="new-password-form">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-4">
      <label for="id_new_password1" class="block text-gray-700">New Password</label>
      <input
        type="password"
        name="new_password1"
        id="id_new_password1"
        class="w-full p-3 border border-gray-300 rounded-lg"
        required
      />
      {{ form.new_password1.errors }}
    </div>

    <div class="mb-4">
      <label for="id_new_password2" class="block text-gray-700">Confirm New Password</label>
      <input
        type="password"
        name="new_password2"
        id="id_new_password2"
        class="w-full p-3 border border-gray-300 rounded-lg"
        required
      />
      {{ form.new_password2.errors }}
    </div>

    <div class="mb-4">
      <button
        type="submit"
        id="submit-btn"
        class="w-full bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600"
      >
        Set Password
      </button>
    </div>
  </form>
</div>

<script>
  const form = document.getElementById('new-password-form');
  const submitBtn = document.getElementById('submit-btn');

  form.addEventListener('submit', function () {
    submitBtn.disabled = true;
    submitBtn.textContent = 'Submitting...';
    submitBtn.classList.add('bg-blue-400');
  });
</script>
{% endblock %}
